@import "map";

// region ///////////////////////////////////////////////////////////////   Getter Functions

@function breakpoint($breakpoint) {
  @if map-has-key($grid-breakpoints,$breakpoint) {
    @return map-get($grid-breakpoints, $breakpoint);
  }

  @error "The breakpoint `#{$breakpoint} does not exist in the $grid-breakpoints map.";
}

@function container($breakpoint) {
  @if map-has-key($container-max-widths,$breakpoint) {
    @return map-get($container-max-widths, $breakpoint);
  }

  @error "The breakpoint `#{$breakpoint} does not exist in the $container-max-widths map.";
}

/// Constant Getter - Credit to https://twitter.com/HugoGiraudel
///
/// @param    {String} $name          Name of constant to get
///
/// @return   {*}                     Constant value
/// @require            $CONSTANTS
/// @throw    'Unknown constant `#{$name}`.'
@function const($name) {
  @if not map-has-key($CONSTANTS, $name) {
    @error 'Unknown constant `#{$name}`.';
  }

  @return map-get($CONSTANTS, $name);
}

@function feature($key) {
  @if map-has-key($features,$key) {
    @return map-get($features,$key);
  }

  @error "The feature `#{$key}` does not exist in the $features map.";
}


// endregion ////////////////////////////////////////////////////////////   End Getter Functions

// region ///////////////////////////////////////////////////////////////   Setter Functions

@mixin set-feature($key,$value) {
  @if not(map-exists(features)) {
    @error "You may not use the `set-feature` mixin prior without the $features map.  Please include `root-variables` prior to this usage."
  } @else {
    $features: set-map-key($features,$key,$value);
  }
}

@mixin set-breakpoint($breakpoint,$value) {
  @if not(map-exists(grid-breakpoints)) {
    @error "You may not use the `set-breakpoint` mixin without the $grid-breakpoints map.  Please include `root-variables` prior to this usage."
  } @else {
    $grid-breakpoints: set-map-key($grid-breakpoints, $breakpoint, $value);
  }
}

@mixin set-max-width($breakpoint,$value) {
  @if not(map-exists(grid-breakpoints)) {
    @error "You may not use the `set-max-width` mixin without the $container-max-widths map.  Please include `root-variables` prior to this usage."
  } @else {
    $container-max-widths: set-map-key($container-max-widths, $breakpoint, $value);
  }
}

// endregion ////////////////////////////////////////////////////////////   End Setter Functions
